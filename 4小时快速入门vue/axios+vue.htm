<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />

        <title>axios+vue</title>
    </head>
    <body>
        <div id="app">
            <input
                type="button"
                value="获取笑话"
                class="get"
                @click="getJoke"
            />
            <p>{{ joke }}</p>
        </div>

        <script src="axios.min.js"></script>
        <script src="vue.js"></script>
        <script>
            /* 
            接口1:随机笑话
            请求地址:https://autumnfish.cn/api/joke
            请求方法:get
            请求参数:无
            响应内容:随机笑话
         */

            var app = new Vue({
                el: '#app',
                data: {
                    joke: '很好笑的笑话'
                },
                methods: {
                    getJoke: function() {
                        var that = this; 
                        axios.get('https://autumnfish.cn/api/joke').then(
                            function(response) {
                                console.log(response.data);
                                that.joke = response.data;
                            },
                            function(err) {
                                console.log(err);
                            }
                        );
                    }
                }
            });
        </script>
    </body>
</html>
